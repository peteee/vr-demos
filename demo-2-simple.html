<html>

<head>
  <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>

    <!-- STEP 4 : ADD JavaScript -->
    <script>
      /**
       * Listening to the cursor & "clicked" objects
       */
  
      // VARS    
      const explositionSound = new Audio("sounds/mixkit-shatter-shot-explosion-1693.wav");
      
      AFRAME.registerComponent('cursor-listener', {
        init: function () {
          this.el.addEventListener('click', function (evt) {
            console.log('I was clicked at: ', evt.detail.intersection.point);
            // BOX
            if (this.getAttribute("class") == "box") {
              // PLAY EXPLOSION SOUND
              explositionSound.play();
              
              // ADD ANIMATION
              this.setAttribute("animation__box_move", "dur: 100;  property:  position; to:  3 0 0");
  
              // LINK TO GOOGLE
              //window.location.href = "https://google.ca";
            }
          });
        }
      });
    </script>
  
</head>

<body>
  <a-scene>

    <!-- STEP 1 : ADD CURSOR -->
    <a-entity camera look-controls wasd-controls position="0 0 0">
      <a-entity cursor="fuse: true; fuseTimeout: 500" position="0 0 -1"
        geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03" material="color: black; shader: flat">
      </a-entity>
    </a-entity>

    <!-- STEP 2 : TAGGING YOUR OBJECT WITH A CLASS; i.e. class="box" -->
    <!-- STEP 3 : ADD "cursor-listener"-ATTRIBUTE -->
    <a-box class="box" cursor-listener color="red" depth="1" height="1" width="0.5" position="-1.04 0.26 -3.72"></a-box>

    <a-sky color="lightblue"></a-sky>
  </a-scene>


</body>
</html>
